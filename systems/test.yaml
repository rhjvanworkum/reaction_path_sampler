###
### 1. GENERAL SETTINGS
###
# output dir
output_dir: './scratch/test4'

# reaction
# reactant_smiles: ["C=CC(=O)Nc1ccccn1", "C[S-]"]
# product_smiles: ["CSC[CH-]C(=O)Nc1ccccn1"]

# reactant_smiles: ["CC(=O)On2nnc1cccnc12", "NCC"]
# product_smiles: ["CC[NH2+]C(C)([O-])On2nnc1cccnc12"]

# reactant_smiles: ["CC[NH2+]C(C)([O-])On2nnc1cccnc12"]
# product_smiles: ["CC(=O)([NH2+]CC)", "n([O-])2nnc1cccnc12"]

reactant_smiles: ["CC[NH2+]C(C)([O-])On2nnc1cccnc12.N"]
product_smiles: ["CC(=O)(NCC)", "n([O-])2nnc1cccnc12", "[NH4+]"]

solvent: "DMF"

# task
use_rxn_mapper: False
use_templates: False
check_smiles_end: False
sample_ts_conformers: False
barrier_method: "xtb"

# how many tries for finding a TS
max_n_reactant_product_pairs: 5

# CPU core settings
xtb_method: "2"
xtb_n_cores: 2
xtb_n_cores_metadyn: 2
n_processes: 16


###
### 2. CONFORMER SAMPLING SETTINGS
###

# sampling method
sampling_method: metadynamics+topology
force_conformer_sampling: False

# MTD sampling settings
md_settings: {
  "shake": 2,
  "step": 5,
  "dump": 20
}
md_time_per_atom: 1.0
md_settings_tight: {
  "shake": 0,
  "step": 2,
  "dump": 20
}
md_settings_tight: {
  "shake": 0,
  "step": 2,
  "dump": 100
}
metadyn_settings: {
  'save': 200,
  'kpush': 1.0, 
  'alp': 0.200
}
cavity_scale: 0.8
cavity_offset: 2.0

# autodE sampling settings
num_complex_sphere_points: 2
num_complex_random_rotations: 2
num_conformers: 50


# CREGEN settings
use_cregen_pruning: False

init_ref_energy_threshold: [0, 600.0, 600.0, 600.0]
init_rmsd_threshold: [0, 0.05, 0.05, 0.05]
init_conf_energy_threshold: [0, 500.0, 500.0, 500.0]
init_rotational_threshold: [0, 40.0, 40.0, 40.0]

ref_energy_threshold: [0, 6.0, 6.0, 6.0]
rmsd_threshold: [0, 0.4, 0.1, 0.1]
conf_energy_threshold: [0, 500.0, 500.0, 500.0]
rotational_threshold: [0, 20.0, 20.0, 20.0]

ts_ref_energy_threshold: [0, 100, 100, 100]
ts_rmsd_threshold: [0, 2.0, 2.0, 2.0]
ts_conf_energy_threshold: [0, 0.00001, 0.00001, 0.00001]
ts_rotational_threshold: [0, 0.04, 0.04, 0.04]


### 
### 3. GEODESIC INTERPOLATION SETTINGS
###

nimages: 20
tol: 1.0e-3
scaling: 1.7
dist_cutoff: 3
friction: 1.0e-2
maxiter: 15


### 
### 4. TS optimization
###
min_ts_imaginary_freq: -50
max_ts_imaginary_freq: -1000